<head>
  <link rel="stylesheet" href="styles.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<div>
<p class="loading">
  Printing...
  <img class="loading-spinner" src="/assets/spiral.png" width="50" height="50" />
</p>

<a href="/pages/login.html">Back to start</a>

<style>
  .loading {
    display: flex;
    margin: auto;
    justify-content: center;
    align-items: center;
  }
</style>
</script>

<br>

<pre class="rolling" style="max-width: 100%; overflow: hidden;">
<script>
  const items = [
    JSON.parse(localStorage.getItem('login')),
    JSON.parse(localStorage.getItem('avatar')),
    JSON.parse(localStorage.getItem('feeling')),
    JSON.parse(localStorage.getItem('location')),
    JSON.parse(localStorage.getItem('star-sign')),
    JSON.parse(localStorage.getItem('animal')),
    JSON.parse(localStorage.getItem('confession')),
    JSON.parse(localStorage.getItem('aura')),
  ]

  const itemsStringified = JSON.stringify(items);

  document.writeln(itemsStringified.slice(0, 2000));

  navigator.clipboard.writeText(itemsStringified);

  download("mydata-" + (new Date()) + ".json", itemsStringified);

  function download(filename, text) {
    var element = document.createElement("a");
    element.setAttribute(
      "href",
      "data:text/plain;charset=utf-8," + encodeURIComponent(text)
    );
    element.setAttribute("download", filename);

    element.style.display = "none";
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
  }

</script>
</pre>

</div>